---
import Layout from "../../layouts/Layout.astro";
import Dashboard from "../../components/Dashboard.astro";
import Aside from "../../components/Aside.astro";
import Header from "../../components/Header.astro";

const title = "Flexi CMS";
---

<Layout title={title}>

  <div class="layout aside-opened">
    <button class="toggle-aside-button" data-toggle-nav id="toggle-nav">
      <svg
        class="icon-open-menu"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
    
    <Aside></Aside>

    <div class="layout-content">      
	    <Header></Header>
      <main class="main">
        <Dashboard/>
      </main>
    </div>
  </div>
</Layout>

<script>
  const toggleNavBtn = document.querySelector("[data-toggle-nav]");
  const layout = document.querySelector(".layout");
  const aside = document.querySelector(".aside");

  // Add event listeners to fire confetti when a button is clicked.

  toggleNavBtn?.addEventListener("click", () => {
    if (layout?.classList.contains("aside-opened")) {
      layout?.classList.remove("aside-opened");
	  aside?.classList.remove("aside-opened");

    } else {
      layout?.classList.add("aside-opened");
	  aside?.classList.add("aside-opened");
    }
  });
</script>
<style>

</style>